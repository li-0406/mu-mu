import{d as f,a as p,s as y,r as $}from"./homepage-0233f99a.js";import{a}from"./vue-router-edadaece.js";import{K as s}from"./_plugin-vue_export-helper-52f6f559.js";const o="https://vue3-course-api.hexschool.io/v2",r="woodbox",g=f("checkout",()=>{const{getCart:c}=p(),{cartData:u,totlaPrice:l}=y(p()),n=s({name:"",email:"",tel:"",address:"",pay:"信用卡",text:""}),i=s(),e=s(!1);return{plus:(t,d)=>{switch(e.value=!0,d){case"plus":t.qty++;break;case"minus":t.qty==1?t.qty==1:t.qty--;break}const h={product_id:t.id,qty:t.qty};a.put(`${o}/api/${r}/cart/${t.id}`,{data:h}).then(q=>{c(),e.value=!1})},cartData:u,totlaPrice:l,delCart:t=>{a.delete(`${o}/api/${r}/cart/${t.id}`).then(d=>{c()})},userData:n,orderNum:i,backHome:()=>{$.push("/"),a.delete(`${o}/api/${r}/carts`).then(t=>{u.value=[],l.value={},n.value={pay:"信用卡"}})},loading:e}});export{g as u};
